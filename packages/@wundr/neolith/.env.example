# =============================================================================
# Genesis-App Environment Configuration
# =============================================================================
# Copy this file to .env and update values for your environment.
# NEVER commit .env files with real credentials to version control.
#
# Usage: cp .env.example .env
# =============================================================================

# -----------------------------------------------------------------------------
# Application Settings
# -----------------------------------------------------------------------------
NODE_ENV=development
APP_NAME=Genesis-App
APP_URL=http://localhost:3000
APP_PORT=3000

# Secret key for signing tokens and encrypting sensitive data
# Generate with: openssl rand -base64 32
APP_SECRET=your-super-secret-key-change-in-production

# -----------------------------------------------------------------------------
# PostgreSQL Database Configuration
# -----------------------------------------------------------------------------
# Connection URL format: postgresql://user:password@host:port/database
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_USER=genesis
POSTGRES_PASSWORD=genesis_dev_password
POSTGRES_DB=genesis_db

# Full connection URL (constructed from above or set directly)
DATABASE_URL=postgresql://genesis:genesis_dev_password@localhost:5432/genesis_db

# Connection pool settings
DATABASE_POOL_MIN=2
DATABASE_POOL_MAX=10

# -----------------------------------------------------------------------------
# Redis Configuration
# -----------------------------------------------------------------------------
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# Full Redis URL (optional, overrides above settings)
REDIS_URL=redis://localhost:6379/0

# -----------------------------------------------------------------------------
# Email Configuration (MailHog for Development)
# -----------------------------------------------------------------------------
# SMTP settings for sending emails
SMTP_HOST=localhost
SMTP_PORT=1025
SMTP_SECURE=false
SMTP_USER=
SMTP_PASSWORD=

# Email sender defaults
EMAIL_FROM_NAME=Genesis-App
EMAIL_FROM_ADDRESS=noreply@genesis.local

# MailHog web UI port (for viewing captured emails)
MAILHOG_UI_PORT=8025
MAILHOG_SMTP_PORT=1025

# -----------------------------------------------------------------------------
# Authentication & Security (NextAuth.js v5)
# -----------------------------------------------------------------------------
# NextAuth.js v5 secret for encrypting tokens and cookies
# Generate with: openssl rand -base64 32
AUTH_SECRET='J9SDN30hfpht0CTtmzwPcMqOQ+mwn5XbTRBJfrvHPLw='

# NextAuth.js URL (set in production to your app URL)
AUTH_URL=http://localhost:3000

# GitHub OAuth Provider
# Create at: https://github.com/settings/developers
GITHUB_CLIENT_ID=your-github-client-id
GITHUB_CLIENT_SECRET=your-github-client-secret

# Google OAuth Provider
# Create at: https://console.cloud.google.com/apis/credentials
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret

# Legacy JWT configuration (for API tokens, not NextAuth)
JWT_SECRET=your-jwt-secret-change-in-production
JWT_EXPIRES_IN=7d
JWT_REFRESH_EXPIRES_IN=30d

# Session configuration
SESSION_SECRET=your-session-secret-change-in-production
SESSION_MAX_AGE=86400000

# CORS settings (comma-separated origins)
CORS_ORIGINS=http://localhost:3000,http://localhost:3001

# Rate limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# -----------------------------------------------------------------------------
# AI/LLM Integration
# -----------------------------------------------------------------------------
# OpenAI API (for GPT models)
OPENAI_API_KEY=your-openai-api-key

# Anthropic API (for Claude models)
ANTHROPIC_API_KEY=your-anthropic-api-key

# Default model configuration
DEFAULT_LLM_PROVIDER=anthropic
DEFAULT_LLM_MODEL=claude-sonnet-4-20250514

# Token budget defaults
DEFAULT_MAX_TOKENS=4096
DEFAULT_TEMPERATURE=0.7

# -----------------------------------------------------------------------------
# Organization Genesis Settings
# -----------------------------------------------------------------------------
# Default charter template
DEFAULT_CHARTER_TEMPLATE=standard

# Agent generation settings
AGENT_GENERATION_BATCH_SIZE=5
AGENT_VALIDATION_ENABLED=true

# VP discipline mapping
VP_DISCIPLINES=engineering,product,operations,finance,legal,hr,marketing,sales

# -----------------------------------------------------------------------------
# Feature Flags
# -----------------------------------------------------------------------------
FEATURE_AGENT_PREVIEW=true
FEATURE_LIVE_EDITING=true
FEATURE_EXPORT_FORMATS=json,yaml,markdown
FEATURE_ANALYTICS=false

# -----------------------------------------------------------------------------
# Logging & Monitoring
# -----------------------------------------------------------------------------
LOG_LEVEL=debug
LOG_FORMAT=pretty

# Sentry error tracking (optional)
SENTRY_DSN=
SENTRY_ENVIRONMENT=development

# OpenTelemetry tracing (optional)
OTEL_ENABLED=false
OTEL_ENDPOINT=http://localhost:4318

# -----------------------------------------------------------------------------
# External Services (Optional)
# -----------------------------------------------------------------------------
# Slack integration
SLACK_BOT_TOKEN=
SLACK_SIGNING_SECRET=
SLACK_APP_TOKEN=

# GitHub integration
GITHUB_APP_ID=
GITHUB_PRIVATE_KEY=
GITHUB_WEBHOOK_SECRET=

# -----------------------------------------------------------------------------
# S3 Storage Configuration
# -----------------------------------------------------------------------------
# S3-compatible storage provider (s3, r2, minio)
STORAGE_PROVIDER=s3
STORAGE_BUCKET=your-bucket-name
STORAGE_REGION=us-east-1

# AWS credentials (or equivalent for R2/MinIO)
AWS_ACCESS_KEY_ID=your-access-key-id
AWS_SECRET_ACCESS_KEY=your-secret-access-key

# For R2/MinIO, provide custom endpoint
STORAGE_ENDPOINT=
# For public access, provide base URL (optional)
STORAGE_PUBLIC_URL=

# Optional: Maximum file size in bytes (default: 100MB)
STORAGE_MAX_FILE_SIZE=104857600

# -----------------------------------------------------------------------------
# Avatar S3 Storage (Separate Bucket)
# -----------------------------------------------------------------------------
# Dedicated bucket for user avatars (recommended for security and CDN)
# If not set, falls back to STORAGE_BUCKET
AVATAR_STORAGE_PROVIDER=s3
AVATAR_STORAGE_BUCKET=your-avatars-bucket
AVATAR_STORAGE_REGION=us-east-1

# Avatar-specific credentials (optional, falls back to main storage)
AVATAR_STORAGE_ACCESS_KEY_ID=
AVATAR_STORAGE_SECRET_ACCESS_KEY=

# For R2/MinIO avatars
AVATAR_STORAGE_ENDPOINT=
# CDN URL for avatars (highly recommended for performance)
AVATAR_STORAGE_PUBLIC_URL=https://avatars.cdn.yourapp.com

# -----------------------------------------------------------------------------
# Docker Compose Overrides
# -----------------------------------------------------------------------------
# These can be used to customize docker-compose behavior
COMPOSE_PROJECT_NAME=genesis-app
COMPOSE_FILE=docker-compose.yml
