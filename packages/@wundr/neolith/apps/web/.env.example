# ============================================================================
# Neolith Web Application - Environment Variables Template
# ============================================================================
# Copy this file to .env.local and fill in the values
# NEVER commit .env.local to version control
# ============================================================================

# ----------------------------------------------------------------------------
# Application Configuration
# ----------------------------------------------------------------------------

# Base URL for the application (used for redirects, emails, OAuth callbacks)
# Required in production, defaults to http://localhost:3000 in development
NEXTAUTH_URL=http://localhost:3000

# Application metadata (optional - defaults are set in next.config.js)
NEXT_PUBLIC_APP_NAME=Neolith
NEXT_PUBLIC_APP_VERSION=0.1.0
NEXT_PUBLIC_APP_URL=http://localhost:3000

# ----------------------------------------------------------------------------
# Authentication (NextAuth.js)
# ----------------------------------------------------------------------------

# Secret key for JWT signing and encryption
# Required: Generate with `openssl rand -base64 32`
NEXTAUTH_SECRET=your-secret-here-generate-with-openssl-rand-base64-32

# ----------------------------------------------------------------------------
# Database
# ----------------------------------------------------------------------------

# PostgreSQL connection string for Prisma
# Required: Format: postgresql://user:password@host:port/database
# Example: postgresql://postgres:password@localhost:5432/neolith
DATABASE_URL=postgresql://user:password@localhost:5432/neolith

# ----------------------------------------------------------------------------
# OAuth Providers (Optional)
# ----------------------------------------------------------------------------

# GitHub OAuth
# Optional: Get from https://github.com/settings/developers
GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=

# Google OAuth
# Optional: Get from https://console.cloud.google.com/apis/credentials
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=

# ----------------------------------------------------------------------------
# Storage Services (S3-Compatible)
# ----------------------------------------------------------------------------

# AWS Credentials for S3 file uploads and storage
# Required for file upload functionality (avatars, workspace icons, file attachments)
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_REGION=us-east-1

# Storage Bucket Configuration
# REQUIRED: Primary bucket name for all file storage
# Used by avatar service, workspace icon service, and file uploads
STORAGE_BUCKET=neolith-uploads

# Alternative storage configuration (uses same credentials above if not set)
# STORAGE_ACCESS_KEY_ID=
# STORAGE_SECRET_ACCESS_KEY=
# STORAGE_REGION=us-east-1

# For Cloudflare R2 or MinIO (optional)
# STORAGE_PROVIDER=s3  # Options: s3, r2, minio
# STORAGE_ENDPOINT=    # Custom S3-compatible endpoint

# Public URL base for served files (optional)
# STORAGE_PUBLIC_URL=  # e.g., https://cdn.yourdomain.com

# Legacy bucket names (optional, for backwards compatibility)
# AWS_S3_BUCKET=genesis-uploads
# S3_BUCKET_NAME=neolith-files

# CDN Configuration (Optional)
# Optional: CloudFront or other CDN domain for serving static assets
CDN_DOMAIN=

# Thumbnail prefix for processed images (optional)
# Defaults to: thumbnails/
THUMBNAIL_PREFIX=thumbnails/

# File Processing Queue (Optional)
# Optional: SQS queue URL for async file processing
FILE_PROCESSING_QUEUE_URL=

# ----------------------------------------------------------------------------
# LiveKit (Real-time Audio/Video)
# ----------------------------------------------------------------------------

# LiveKit Server Configuration
# Required for calls and huddles functionality
LIVEKIT_URL=wss://localhost:7880
LIVEKIT_API_KEY=
LIVEKIT_API_SECRET=

# Public LiveKit URL for client-side connections
NEXT_PUBLIC_LIVEKIT_URL=wss://localhost:7880

# ----------------------------------------------------------------------------
# LLM Providers (Conversational AI)
# ----------------------------------------------------------------------------

# Anthropic Claude API
# Required for conversational entity creation
ANTHROPIC_API_KEY=

# OpenAI API (Alternative provider)
# Optional: Alternative to Anthropic
OPENAI_API_KEY=

# LLM Configuration (Optional)
# Optional: Defaults are provided in the code
DEFAULT_LLM_PROVIDER=anthropic
DEFAULT_LLM_MODEL=claude-sonnet-4-20250514
DEFAULT_MAX_TOKENS=4096
DEFAULT_TEMPERATURE=0.7

# OpenAI Model (when using OpenAI as provider)
# Default: gpt-4o-mini for cost-effective conversational wizards
OPENAI_MODEL=gpt-4o-mini

# LLM Service Configuration (via @adaptic/lumic-utils)
# Default model for lumic-utils LLM service
LLM_DEFAULT_MODEL=gpt-5-mini
LLM_DEFAULT_TEMPERATURE=1
LLM_DEFAULT_MAX_TOKENS=4096

# ----------------------------------------------------------------------------
# Email Configuration (Resend)
# ----------------------------------------------------------------------------

# Resend API Key
# Required for sending emails
# Get from https://resend.com/api-keys
RESEND_API_KEY=

# From email address
# Required: Must be verified in Resend dashboard
FROM_EMAIL=noreply@yourdomain.com

# From name (optional)
# Defaults to app name if not set
EMAIL_FROM_NAME=Neolith

# Unsubscribe token secret (optional)
# Used for signing unsubscribe links
# Defaults to NEXTAUTH_SECRET if not set
UNSUBSCRIBE_SECRET=

# Email verification requirement (optional)
# Set to 'true' to require users to verify their email before they can log in
# Defaults to false (verification optional)
EMAIL_VERIFICATION_REQUIRED=false

# ----------------------------------------------------------------------------
# Web Push Notifications
# ----------------------------------------------------------------------------

# VAPID Keys for Web Push
# Required for push notifications functionality
# Generate with: npx web-push generate-vapid-keys
VAPID_PUBLIC_KEY=
VAPID_PRIVATE_KEY=

# Push Webhook Secret (Optional)
# Optional: Secret for validating push notification webhooks
PUSH_WEBHOOK_SECRET=

# ----------------------------------------------------------------------------
# Daemon/VP Integration
# ----------------------------------------------------------------------------

# JWT Secret for Daemon Authentication
# Required for Orchestrator daemon communication
# Warning: Change this in production!
DAEMON_JWT_SECRET=daemon-secret-change-in-production

# ----------------------------------------------------------------------------
# External Webhooks
# ----------------------------------------------------------------------------

# GitLab Webhook Secret (Optional)
# Optional: Secret token for GitLab webhook verification
GITLAB_WEBHOOK_SECRET=

# ----------------------------------------------------------------------------
# Development & Testing
# ----------------------------------------------------------------------------

# Node environment
# Set automatically by build tools
# Values: development | production | test
NODE_ENV=development

# Playwright Testing (Optional)
# Optional: Base URL for Playwright tests
PLAYWRIGHT_BASE_URL=http://localhost:3000

# CI Environment (Optional)
# Set automatically by CI/CD systems
CI=false

# ----------------------------------------------------------------------------
# GraphQL Configuration
# ----------------------------------------------------------------------------

# Public API URL (Optional)
# Optional: GraphQL endpoint for client-side queries
NEXT_PUBLIC_API_URL=http://localhost:4000/graphql

# ============================================================================
# REQUIRED vs OPTIONAL Summary
# ============================================================================
#
# REQUIRED FOR BASIC FUNCTIONALITY:
# - NEXTAUTH_SECRET
# - DATABASE_URL
#
# REQUIRED FOR FILE UPLOADS (avatars, workspace icons, attachments):
# - AWS_ACCESS_KEY_ID
# - AWS_SECRET_ACCESS_KEY
# - STORAGE_BUCKET
#
# REQUIRED FOR VIDEO CALLS:
# - LIVEKIT_URL
# - LIVEKIT_API_KEY
# - LIVEKIT_API_SECRET
# - NEXT_PUBLIC_LIVEKIT_URL
#
# REQUIRED FOR CONVERSATIONAL AI:
# - ANTHROPIC_API_KEY (or OPENAI_API_KEY)
#
# REQUIRED FOR EMAIL FUNCTIONALITY:
# - RESEND_API_KEY
# - FROM_EMAIL (must be verified in Resend dashboard)
#
# REQUIRED FOR WEB PUSH:
# - VAPID_PUBLIC_KEY
# - VAPID_PRIVATE_KEY
#
# REQUIRED FOR Orchestrator DAEMONS:
# - DAEMON_JWT_SECRET (change default!)
#
# OPTIONAL:
# - OAuth providers (GITHUB_*, GOOGLE_*)
# - CDN configuration
# - SQS queue for async processing
# - Webhook secrets
# - LLM configuration overrides
# - Testing configuration
#
# ============================================================================
