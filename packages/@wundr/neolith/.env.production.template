# =============================================================================
# Neolith Production Environment Configuration Template
# =============================================================================
# Copy this file and set values for your production environment.
# NEVER commit real credentials to version control.
#
# Usage:
#   1. Copy to .env.production: cp .env.production.template .env.production
#   2. Fill in all required values
#   3. Set environment variables in your hosting platform (Railway/Netlify/Vercel)
#
# =============================================================================

# -----------------------------------------------------------------------------
# Application Settings
# -----------------------------------------------------------------------------
NODE_ENV=production
APP_NAME=Neolith
APP_URL=https://neolith.ai
APP_PORT=3000

# Secret key for signing tokens and encrypting sensitive data
# Generate with: openssl rand -base64 32
APP_SECRET=CHANGE_ME_GENERATE_NEW_SECRET

# -----------------------------------------------------------------------------
# NextAuth.js Configuration
# -----------------------------------------------------------------------------
# Secret for encrypting tokens and cookies
# Generate with: openssl rand -base64 32
AUTH_SECRET=CHANGE_ME_GENERATE_NEW_SECRET
NEXTAUTH_SECRET=CHANGE_ME_GENERATE_NEW_SECRET

# Production URL (must match your deployment URL)
AUTH_URL=https://neolith.ai
NEXTAUTH_URL=https://neolith.ai

# -----------------------------------------------------------------------------
# PostgreSQL Database (Railway/Supabase/Neon)
# -----------------------------------------------------------------------------
# Connection URL format: postgresql://user:password@host:port/database
DATABASE_URL=postgresql://neolith:PASSWORD@db.neolith.ai:5432/neolith_production

# Connection pool settings
DATABASE_POOL_MIN=5
DATABASE_POOL_MAX=20

# -----------------------------------------------------------------------------
# Redis Configuration (Railway/Upstash)
# -----------------------------------------------------------------------------
REDIS_URL=redis://default:PASSWORD@redis.neolith.ai:6379

# -----------------------------------------------------------------------------
# OAuth Providers (Production)
# -----------------------------------------------------------------------------
# Google OAuth - https://console.cloud.google.com/apis/credentials
# Set callback URL: https://neolith.ai/api/auth/callback/google
GOOGLE_CLIENT_ID=YOUR_PRODUCTION_GOOGLE_CLIENT_ID
GOOGLE_CLIENT_SECRET=YOUR_PRODUCTION_GOOGLE_CLIENT_SECRET

# GitHub OAuth - https://github.com/settings/developers
# Set callback URL: https://neolith.ai/api/auth/callback/github
GITHUB_CLIENT_ID=YOUR_PRODUCTION_GITHUB_CLIENT_ID
GITHUB_CLIENT_SECRET=YOUR_PRODUCTION_GITHUB_CLIENT_SECRET

# -----------------------------------------------------------------------------
# AI/LLM Integration
# -----------------------------------------------------------------------------
# Anthropic API (for Claude models)
ANTHROPIC_API_KEY=YOUR_ANTHROPIC_API_KEY

# OpenAI API (optional, for GPT models)
OPENAI_API_KEY=YOUR_OPENAI_API_KEY

# Default model configuration
DEFAULT_LLM_PROVIDER=anthropic
DEFAULT_LLM_MODEL=claude-sonnet-4-20250514
DEFAULT_MAX_TOKENS=4096
DEFAULT_TEMPERATURE=0.7

# -----------------------------------------------------------------------------
# S3 Storage Configuration (AWS/Cloudflare R2)
# -----------------------------------------------------------------------------
STORAGE_PROVIDER=s3
STORAGE_BUCKET=neolith-uploads-production
STORAGE_REGION=us-east-1

# AWS credentials
AWS_ACCESS_KEY_ID=YOUR_AWS_ACCESS_KEY
AWS_SECRET_ACCESS_KEY=YOUR_AWS_SECRET_KEY

# CDN URL for public assets (CloudFront/Cloudflare)
STORAGE_PUBLIC_URL=https://cdn.neolith.ai

# Maximum file size (100MB)
STORAGE_MAX_FILE_SIZE=104857600

# -----------------------------------------------------------------------------
# Avatar Storage (Separate Bucket)
# -----------------------------------------------------------------------------
AVATAR_STORAGE_PROVIDER=s3
AVATAR_STORAGE_BUCKET=neolith-avatars-production
AVATAR_STORAGE_REGION=us-east-1
AVATAR_STORAGE_PUBLIC_URL=https://avatars.cdn.neolith.ai

# -----------------------------------------------------------------------------
# LiveKit Video/Audio (for Calls)
# -----------------------------------------------------------------------------
LIVEKIT_API_KEY=YOUR_LIVEKIT_API_KEY
LIVEKIT_API_SECRET=YOUR_LIVEKIT_API_SECRET
LIVEKIT_URL=wss://livekit.neolith.ai

# -----------------------------------------------------------------------------
# Email Configuration (Resend/SendGrid)
# -----------------------------------------------------------------------------
RESEND_API_KEY=YOUR_RESEND_API_KEY
EMAIL_FROM_NAME=Neolith
EMAIL_FROM_ADDRESS=noreply@neolith.ai

# -----------------------------------------------------------------------------
# Push Notifications
# -----------------------------------------------------------------------------
# VAPID keys for web push
# Generate with: npx web-push generate-vapid-keys
VAPID_PUBLIC_KEY=YOUR_VAPID_PUBLIC_KEY
VAPID_PRIVATE_KEY=YOUR_VAPID_PRIVATE_KEY
VAPID_SUBJECT=mailto:admin@neolith.ai

# -----------------------------------------------------------------------------
# VP Daemon Configuration
# -----------------------------------------------------------------------------
# API endpoint for VP daemon connections
VP_DAEMON_API_URL=https://api.neolith.ai
VP_DAEMON_WS_URL=wss://api.neolith.ai/ws

# VP daemon authentication key
VP_DAEMON_AUTH_KEY=CHANGE_ME_GENERATE_SECURE_KEY

# -----------------------------------------------------------------------------
# External Integrations
# -----------------------------------------------------------------------------
# Slack integration
SLACK_BOT_TOKEN=xoxb-YOUR-SLACK-BOT-TOKEN
SLACK_SIGNING_SECRET=YOUR_SLACK_SIGNING_SECRET
SLACK_APP_TOKEN=xapp-YOUR-SLACK-APP-TOKEN

# GitHub App integration
GITHUB_APP_ID=YOUR_GITHUB_APP_ID
GITHUB_PRIVATE_KEY=YOUR_GITHUB_PRIVATE_KEY
GITHUB_WEBHOOK_SECRET=YOUR_GITHUB_WEBHOOK_SECRET

# -----------------------------------------------------------------------------
# Monitoring & Error Tracking
# -----------------------------------------------------------------------------
# Sentry error tracking
SENTRY_DSN=https://YOUR_KEY@o123456.ingest.sentry.io/YOUR_PROJECT_ID
SENTRY_ENVIRONMENT=production

# OpenTelemetry tracing
OTEL_ENABLED=true
OTEL_ENDPOINT=https://otel.neolith.ai:4318

# Log configuration
LOG_LEVEL=info
LOG_FORMAT=json

# -----------------------------------------------------------------------------
# Security Settings
# -----------------------------------------------------------------------------
# CORS settings (comma-separated origins)
CORS_ORIGINS=https://neolith.ai,https://www.neolith.ai,https://app.neolith.ai

# Rate limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=1000

# Session configuration
SESSION_MAX_AGE=86400000

# -----------------------------------------------------------------------------
# Feature Flags
# -----------------------------------------------------------------------------
FEATURE_AGENT_PREVIEW=true
FEATURE_LIVE_EDITING=true
FEATURE_EXPORT_FORMATS=json,yaml,markdown
FEATURE_ANALYTICS=true
